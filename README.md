# A crate for a simple zipping - simple_rust_zip

## Why

There are many good implementations of a zipping, however they are too
powerful. I need some very basic and simple.

##  How to use

First you can create a zip file calling
```
let mut zip = simzip::ZipInfo::new_with_comment("test.zip".into(), 
    "Generated by WebFolder (Java nio) 1.9.153, Copyright (c) 2009, 2025 by Dmitriy Rogatkin".into());
```
Then you can add zip entries using:
```
zip.add(simzip::ZipEntry::new(".gitignore".into(), r#"src/test
test.zip"#.as_bytes().to_vec()));
```
Or:
```
zip.add(simzip::ZipEntry::from_file(&"README.md".to_string(), Some(&"doc".to_string())));
```
for files. Finally you can store the zip in the file system calling:
```
match zip.store() {
        Ok(()) => println!{"Zipped good!"},
        Err(msg) => println!{"zip error: {msg}"}
    }
```
The underline code will automatically add correct file permissions on UNIX systems.

## Building the crate

Obtain the RustBee first. It's an alternative tool to Cargo. You may need to build it for your platform. 
The building is a clearly simple and explained [here](https://gitlab.com/tools6772135/rusthub/-/blob/master/src/rust/rustcgi/README.md).
The crate has one dependency. It gets built as a part of a building of the RustBee. Just verify that the right RustBee repository location is
specified in [bee.7b](https://github.com/vernisaz/simple_rust_zip/blob/ce7bf7385eef7d8bd84690b7fefe82f2a0275d9f/bee.7b#L2).

**rb** will create the **simzip** crate.

if you plan to *deflat* zip entires, then set the build script variable "use deflater" to **true** (default value). 
Use *deflater" [bee.7b](./libdeflate/bee.7b) to buiild the required crate. Read instructions inside the bee.7b how to build.

## Future

Some compressed more compressing format can be added in the future.